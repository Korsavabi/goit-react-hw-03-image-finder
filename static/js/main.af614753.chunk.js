(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{29:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a.n(n),s=a(21),o=a.n(s),i=(a(29),a(4)),u=a.n(i),l=a(12),h=a(5),m=a(6),p=a(7),d=a(9),g=a(8),b=a(22),j=a.n(b),f=function(e){return"".concat(e,"key=").concat("18578645-0ccef0fd529c1496f71dd195d")},v=function(){var e=Object(h.a)(u.a.mark((function e(t,a){var r,n,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:null,e.next=3,j.a[t](a,r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=a(23),x=(a(48),function(e){var t=e.images,a=function(e){e.preventDefault(),O.create('\n        <div class="modal">\n        <img src="'.concat(e.target.dataset.src,'" alt="').concat(e.target.alt,'" class="js-modal-img">\n        </div>\n    ')).show()};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("img",{src:e.webformatURL,"data-src":e.largeImageURL,onClick:a,alt:e.type,className:"ImageGalleryItem-image"})," "]},e.id)}))})})}),y=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={search:""},e.submitHandler=function(t){t.preventDefault();var a=e.state.search;e.props.onSubmit(a),e.setState({search:""})},e.inputHandler=function(t){e.setState({search:t.target.value})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(r.jsx)("header",{className:"Searchbar",children:Object(r.jsxs)("form",{className:"SearchForm",onSubmit:this.submitHandler,children:[Object(r.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(r.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(r.jsx)("input",{className:"SearchForm-input",type:"text",name:"search",value:e,onChange:this.inputHandler,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),S=a(11),w=a.n(S),k=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(w.a,{type:"Bars",color:"#00BFFF",height:100,width:100,timeout:15e3,className:"center"})})},F=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],loader:!1,err:!1,pages:1,perPage:9,message:"",searchQuery:""},e.loaderToggle=function(t){e.setState({loader:t})},e.errorToggle=function(t){e.setState({error:t})},e.featchImages=Object(h.a)(u.a.mark((function t(){var a,r,n,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.searchQuery,n=a.pages,c=f("https://pixabay.com/api/?q=".concat(r,"&image_type=photo&per_page=9&page=").concat(n,"&")),t.prev=2,e.loaderToggle(!0),t.next=6,v("get",c);case 6:s=t.sent,e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(s.hits)),pages:e.pages+1}})),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),e.setState({message:"Some Eror, try later"}),e.errorToggle(!0),e.loaderToggle(!1);case 15:return t.prev=15,e.loaderToggle(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[2,10,15,19]])}))),e.hendleSearchQuerySybmit=function(){var t=Object(h.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({searchQuery:a,pages:1,images:[]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.searchQuery!==t.searchQuery&&this.featchImages()}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.loader,n=e.error,c=e.message;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{onSubmit:this.hendleSearchQuerySybmit}),n&&Object(r.jsx)("h1",{children:c}),a?Object(r.jsx)(k,{}):Object(r.jsx)(x,{images:t}),!!t.length&&Object(r.jsx)("button",{type:"button",onClick:this.featchImages,children:"Load More..."})]})}}]),a}(n.Component);var N=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(F,{})})};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.af614753.chunk.js.map